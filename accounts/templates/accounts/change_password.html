{% extends "dashboard/base.html" %}

{% block title %}Ubah Password â€” Cobrell{% endblock %}

{% block content %}
<div class="page-header">
    <div>
        <h1 class="page-title">Ubah Password</h1>
        <p class="page-subtitle">Ganti password akun Anda</p>
    </div>
</div>

{% if messages %}
<div class="messages" style="margin-bottom: 1rem;">
    {% for message in messages %}
    <div class="alert-box {% if message.tags == 'error' %}alert-box--error{% else %}alert-box--success{% endif %}">
        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" width="18" height="18">
            {% if message.tags == 'error' %}
            <circle cx="12" cy="12" r="10"/><line x1="15" y1="9" x2="9" y2="15"/><line x1="9" y1="9" x2="15" y2="15"/>
            {% else %}
            <path d="M22 11.08V12a10 10 0 1 1-5.93-9.14"/><polyline points="22 4 12 14.01 9 11.01"/>
            {% endif %}
        </svg>
        <span>{{ message }}</span>
    </div>
    {% endfor %}
</div>
{% endif %}

<div class="form-card">
    <form method="post" class="settings-form" novalidate>
        {% csrf_token %}

        <div class="settings-form-group">
            <label for="current_password">Password Saat Ini</label>
            <div class="settings-input-wrapper">
                <svg class="settings-input-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor"
                     stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                    <rect x="3" y="11" width="18" height="11" rx="2" ry="2"/>
                    <path d="M7 11V7a5 5 0 0 1 10 0v4"/>
                </svg>
                <input type="password" id="current_password" name="current_password"
                       placeholder="Masukkan password saat ini" required>
            </div>
        </div>

        <div class="settings-form-group">
            <label for="new_password">Password Baru</label>
            <div class="settings-input-wrapper">
                <svg class="settings-input-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor"
                     stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                    <path d="M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10z"/>
                </svg>
                <input type="password" id="new_password" name="new_password"
                       placeholder="Minimal 6 karakter" required>
            </div>
        </div>

        <div class="settings-form-group">
            <label for="new_password_confirm">Konfirmasi Password Baru</label>
            <div class="settings-input-wrapper">
                <svg class="settings-input-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor"
                     stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                    <path d="M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10z"/>
                </svg>
                <input type="password" id="new_password_confirm" name="new_password_confirm"
                       placeholder="Ulangi password baru" required>
            </div>
        </div>

        <div class="settings-form-actions">
            <a href="{% url 'dashboard' %}" class="btn-cancel">Batal</a>
            <button type="submit" class="btn-save">
                <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"
                     stroke-linecap="round" stroke-linejoin="round" width="16" height="16">
                    <path d="M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10z"/>
                </svg>
                Ubah Password
            </button>
        </div>
    </form>
</div>
{% endblock %}
