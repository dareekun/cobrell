{% load static %}
<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>{% block title %}Cobrell{% endblock %}</title>
    <link rel="stylesheet" href="{% static 'dashboard/css/dashboard.css' %}">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800&display=swap" rel="stylesheet">
    {% block extra_css %}{% endblock %}
</head>
<body>
    <!-- Sidebar -->
    <aside class="sidebar">
        <div class="sidebar-brand">
            <div class="sidebar-logo">
                <svg viewBox="0 0 40 40" fill="none" xmlns="http://www.w3.org/2000/svg">
                    <circle cx="20" cy="20" r="18" fill="rgba(255,255,255,0.15)"/>
                    <path d="M20 8C20 8 13 10.5 13 19V27L10 30V31H30V30L27 27V19C27 10.5 20 8 20 8Z"
                          fill="white" stroke="white" stroke-width="1" stroke-linejoin="round"/>
                    <path d="M17 31C17 32.6569 18.3431 34 20 34C21.6569 34 23 32.6569 23 31"
                          stroke="white" stroke-width="1.5" stroke-linecap="round"/>
                    <circle cx="20" cy="8" r="1.5" fill="white"/>
                </svg>
            </div>
            <div>
                <h1 class="sidebar-title">Cobrell</h1>
                <p class="sidebar-subtitle">Bel Sekolah</p>
            </div>
        </div>

        <nav class="sidebar-nav">
            <a href="{% url 'dashboard' %}" class="nav-item {% if active_menu == 'dashboard' or not active_menu %}active{% endif %}">
                <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                    <rect x="3" y="3" width="7" height="7"/>
                    <rect x="14" y="3" width="7" height="7"/>
                    <rect x="14" y="14" width="7" height="7"/>
                    <rect x="3" y="14" width="7" height="7"/>
                </svg>
                <span>Dashboard</span>
            </a>
            <a href="{% url 'musik_list' %}" class="nav-item {% if active_menu == 'musik' %}active{% endif %}">
                <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                    <path d="M9 18V5l12-2v13"/>
                    <circle cx="6" cy="18" r="3"/>
                    <circle cx="18" cy="16" r="3"/>
                </svg>
                <span>Musik Bel</span>
            </a>
            <a href="{% url 'jadwal_list' %}" class="nav-item {% if active_menu == 'jadwal' %}active{% endif %}">
                <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                    <circle cx="12" cy="12" r="10"/>
                    <polyline points="12 6 12 12 16 14"/>
                </svg>
                <span>Jadwal Bel</span>
            </a>
            <a href="{% url 'pengecualian_list' %}" class="nav-item {% if active_menu == 'pengecualian' %}active{% endif %}">
                <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                    <rect x="3" y="4" width="18" height="18" rx="2" ry="2"/>
                    <line x1="16" y1="2" x2="16" y2="6"/>
                    <line x1="8" y1="2" x2="8" y2="6"/>
                    <line x1="3" y1="10" x2="21" y2="10"/>
                    <line x1="9" y1="16" x2="15" y2="16"/>
                </svg>
                <span>Pengecualian</span>
            </a>
        </nav>

        <div class="sidebar-footer">
            <div class="sidebar-user">
                <div class="user-avatar">{{ user.username|make_list|first|upper }}</div>
                <div class="user-info">
                    <span class="user-name">{{ user.first_name|default:user.username }}</span>
                    <span class="user-role">Administrator</span>
                </div>
            </div>
            <a href="{% url 'logout' %}" class="btn-logout" title="Keluar">
                <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                    <path d="M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"/>
                    <polyline points="16 17 21 12 16 7"/>
                    <line x1="21" y1="12" x2="9" y2="12"/>
                </svg>
            </a>
        </div>
    </aside>

    <!-- Main Content -->
    <main class="main">
        {% block content %}{% endblock %}
    </main>

    {% block extra_js %}{% endblock %}
</body>
</html>
